# I'm super paranoid about C++ code... :)
LANGUAGES   += c++
COMPILEOPTS += -Wall
COMPILEOPTS += -Wextra
COMPILEOPTS += -Werror
COMPILEOPTS += -pedantic
COMPILEOPTS += -std=c++11

# The test scripts use BASH
LANGUAGES   += bash

LANGUAGES   += h

LANGUAGES   += pkgconfig
LINKOPTS    += -Sobj/proc/version-pc.sed

# Generates a C version number and verifies that it matches git
GENERATE    += version.h
GENERATE    += version-pc.sed

# Performs a logical diff on two VCD files, determining if they
# contain the same set of changes (but not necessiarally in exactly
# the same order.
BINARIES    += vcddiff
SOURCES     += main.c++

TESTSRC     += counter-0sig0diff.bash
TESTSRC     += counter-0sig1diff.bash
TESTSRC     += counter-0sig2diff.bash
TESTSRC     += counter-1sig0diff.bash
TESTSRC     += counter-1sig1diff.bash

# Builds a library that exposes some of the useful VCD functionality
# that I've written.
HEADERS     += libvcd/datum.h++
SOURCES     += datum.h++
HEADERS     += libvcd/vcd.h++
SOURCES     += vcd.h++

LIBRARIES   += libvcd.so
SOURCES     += vcd.c++

LIBRARIES   += pkgconfig/libvcd.pc
SOURCES     += libvcd.pc
